{"ast":null,"code":"import _classCallCheck from \"/Users/joshuagomez/Documents/Coding_projects/omni-project/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/joshuagomez/Documents/Coding_projects/omni-project/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/joshuagomez/Documents/Coding_projects/omni-project/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/joshuagomez/Documents/Coding_projects/omni-project/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/joshuagomez/Documents/Coding_projects/omni-project/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/joshuagomez/Documents/Coding_projects/omni-project/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/joshuagomez/Documents/Coding_projects/omni-project/src/television/television.js\";\nimport React, { Component } from 'react';\nimport { searchOmdb } from '../common/utils';\nimport SeriesDialog from './seriesdialog';\nimport './series.css';\n\nvar Television =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Television, _Component);\n\n  function Television(props) {\n    var _this;\n\n    _classCallCheck(this, Television);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Television).call(this, props));\n    _this.state = {\n      title: '',\n      hasResults: false,\n      showInfo: {},\n      episodes: [],\n      seasons: []\n    };\n    _this.updateTitle = _this.updateTitle.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submitForm = _this.submitForm.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.searchOmdb = searchOmdb.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Television, [{\n    key: \"updateTitle\",\n    value: function updateTitle(event) {\n      this.setState({\n        title: event.target.value\n      });\n    }\n  }, {\n    key: \"submitForm\",\n    value: function submitForm(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      var that = this;\n      this.searchOmdb(this.state.title, '$type=series').then(function (results) {\n        var seasonArray = Array.from({\n          length: results.totalSeasons\n        }, function (v, i) {\n          return i + 1;\n        });\n        that.setState({\n          showInfo: results,\n          seasons: seasonArray\n        });\n\n        _this2.updateEpisodeList(1);\n      });\n    }\n  }, {\n    key: \"updateEpisodeList\",\n    value: function updateEpisodeList(number) {\n      var _this3 = this;\n\n      var that = this;\n      this.searchOmdb(this.state.showInfo.Title, \"Season=\".concat(number)).then(function (episodeResults) {\n        that.setState({\n          episodes: episodeResults,\n          title: '',\n          hasResults: true\n        });\n        console.log(_this3.state);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        id: \"seriesForm\",\n        onSubmit: this.submitForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        id: \"seriesInput\",\n        value: this.state.title,\n        onChange: this.updateTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        id: \"seriesSubmit\",\n        value: \"Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      })), this.state.hasResults && React.createElement(\"h1\", {\n        className: \"seriesTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, this.state.showInfo.Title), React.createElement(\"div\", {\n        className: \"seasonNumberContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, this.state.hasResults && this.state.seasons.map(function (number, i) {\n        return React.createElement(\"div\", {\n          className: _this4.state.episodes.Season === \"\".concat(number) ? 'currentSeasonNumber' : 'seasonNumber',\n          onClick: function onClick() {\n            return _this4.updateEpisodeList(number);\n          },\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, number);\n      })), this.state.hasResults && this.state.episodes.Episodes.map(function (episode) {\n        return React.createElement(SeriesDialog, {\n          episode: episode,\n          key: episode.imdbID,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        });\n      }));\n    }\n  }]);\n\n  return Television;\n}(Component);\n\nexport default Television;","map":{"version":3,"sources":["/Users/joshuagomez/Documents/Coding_projects/omni-project/src/television/television.js"],"names":["React","Component","searchOmdb","SeriesDialog","Television","props","state","title","hasResults","showInfo","episodes","seasons","updateTitle","bind","submitForm","event","setState","target","value","preventDefault","that","then","results","seasonArray","Array","from","length","totalSeasons","v","i","updateEpisodeList","number","Title","episodeResults","console","log","map","Season","Episodes","episode","imdbID"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {searchOmdb} from '../common/utils';\nimport SeriesDialog from './seriesdialog';\nimport './series.css';\n\nclass Television extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: '',\n            hasResults: false,\n            showInfo: {},\n            episodes: [],\n            seasons: []\n        }\n        this.updateTitle = this.updateTitle.bind(this);\n        this.submitForm = this.submitForm.bind(this);\n        this.searchOmdb = searchOmdb.bind(this);\n    }\n\n    updateTitle(event) {\n        this.setState({title: event.target.value});\n    }\n\n    submitForm(event) {\n        event.preventDefault();\n        let that = this;\n        this.searchOmdb(this.state.title, '$type=series')\n            .then(results => {\n                let seasonArray = Array.from({length: results.totalSeasons}, (v, i) => i+1);\n                that.setState({showInfo: results, seasons: seasonArray});\n                this.updateEpisodeList(1);\n            })\n    }\n\n    updateEpisodeList(number) {\n        let that = this;\n        this.searchOmdb(this.state.showInfo.Title, `Season=${number}`)\n        .then(episodeResults => {\n            that.setState({episodes: episodeResults, title: '', hasResults: true})\n            console.log(this.state)\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <form id='seriesForm' onSubmit={this.submitForm}>\n                    <input type='text' id='seriesInput' value={this.state.title} onChange={this.updateTitle}/>\n                    <input type='submit' id='seriesSubmit' value='Search'/>\n                </form>\n\n                {this.state.hasResults && <h1 className='seriesTitle'>{this.state.showInfo.Title}</h1>}\n\n                <div className='seasonNumberContainer'>\n                    {this.state.hasResults && this.state.seasons.map((number, i) => {\n                        return <div className={this.state.episodes.Season === `${number}` ? 'currentSeasonNumber' : 'seasonNumber'} onClick={() => this.updateEpisodeList(number)} key={i}>{number}</div>\n                    })}\n                </div>\n                {this.state.hasResults && this.state.episodes.Episodes.map(episode => {\n                    return <SeriesDialog episode={episode} key={episode.imdbID}/>\n                }) }\n            </div>\n        )\n    }\n}\n\nexport default Television;"]},"metadata":{},"sourceType":"module"}